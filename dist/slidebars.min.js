/*!
 * Slidebars - A jQuery Framework for Off-Canvas Menus and Sidebars
 * Version: 2 Development
 * Url: http://www.adchsm.com/slidebars/
 * Author: Adam Charles Smith
 * Author url: http://www.adchsm.com/
 * License: MIT
 * License url: http://www.adchsm.com/slidebars/license/
 */
var slidebars=function(){function n(i){var e=$(),t="0px, 0px",n=1e3*parseFloat(a[i].element.css("transitionDuration"),10),s=1e3*parseFloat(a[i].element.data("transitionDuration"),10);return isNaN(s)||(n=s),"reveal"!==a[i].style&&"push"!==a[i].style&&"shift"!==a[i].style||(e=e.add(r)),"push"!==a[i].style&&"overlay"!==a[i].style&&"shift"!==a[i].style||(e=e.add(a[i].element)),a[i].active&&("top"===a[i].side?t="0px, "+a[i].element.css("height"):"right"===a[i].side?t="-"+a[i].element.css("width")+", 0px":"bottom"===a[i].side?t="0px, -"+a[i].element.css("height"):"left"===a[i].side&&(t=a[i].element.css("width")+", 0px")),{elements:e,amount:t,duration:n}}var r=$("[data-canvas]"),a={},s=!1,e=!1,t=["top","right","bottom","left"],o=["reveal","push","overlay","shift"],d=function(i){return!!a.hasOwnProperty(i)};this.init=function(i){if(s)throw"Slidebars has already been initialized.";e||($("[data-off-canvas]").each(function(){var i=$(this).attr("data-off-canvas").split(" ",3);if(!i||!i[0]||-1===t.indexOf(i[1])||-1===o.indexOf(i[2]))throw"Error registering Slidebar, please specifiy a valid id, side and style'.";!function(i,e,t,n){if(d(i))throw"Error registering Slidebar, a Slidebar with id '"+i+"' already exists.";a[i]={id:i,side:e,style:t,element:n,active:!1}}(i[0],i[1],i[2],$(this))}),e=!0),s=!0,this.css(),$(l).trigger("init"),"function"==typeof i&&i()},this.exit=function(i){if(!s)throw"Slidebars hasn't been initialized.";function e(){s=!1,$(l).trigger("exit"),"function"==typeof i&&i()}this.getActiveSlidebar()?this.close(e):e()},this.css=function(i){if(!s)throw"Slidebars hasn't been initialized.";for(var e in a){var t;d(e)&&(t="top"===a[e].side||"bottom"===a[e].side?a[e].element.css("height"):a[e].element.css("width"),"push"!==a[e].style&&"overlay"!==a[e].style&&"shift"!==a[e].style||a[e].element.css("margin-"+a[e].side,"-"+t))}this.getActiveSlidebar()&&this.open(this.getActiveSlidebar()),$(l).trigger("css"),"function"==typeof i&&i()},this.open=function(e,t){if(!s)throw"Slidebars hasn't been initialized.";if(!e)throw"You must pass a Slidebar id.";if(!d(e))throw"Error opening Slidebar, there is no Slidebar with id '"+e+"'.";function i(){a[e].active=!0;var i=a[e].element.data("openDisplayMode")||"block";a[e].element.css("display",i),$(l).trigger("opening",[a[e].id]),(i=n(e)).elements.css({"transition-duration":i.duration+"ms",transform:"translate("+i.amount+")"}),setTimeout(function(){$(l).trigger("opened",[a[e].id]),"function"==typeof t&&t()},i.duration)}this.getActiveSlidebar()&&this.getActiveSlidebar()!==e?this.close(i):i()},this.close=function(i,e){if("function"==typeof i&&(e=i,i=null),!s)throw"Slidebars hasn't been initialized.";if(i&&!d(i))throw"Error closing Slidebar, there is no Slidebar with id '"+i+"'.";var t;(i=i||this.getActiveSlidebar())&&a[i].active&&(a[i].active=!1,$(l).trigger("closing",[a[i].id]),(t=n(i)).elements.css("transform",""),setTimeout(function(){t.elements.css("transition-duration",""),a[i].element.css("display",""),$(l).trigger("closed",[a[i].id]),"function"==typeof e&&e()},t.duration))},this.toggle=function(i,e){if(!s)throw"Slidebars hasn't been initialized.";if(!i)throw"You must pass a Slidebar id.";if(!d(i))throw"Error toggling Slidebar, there is no Slidebar with id '"+i+"'.";a[i].active?this.close(i,function(){"function"==typeof e&&e()}):this.open(i,function(){"function"==typeof e&&e()})},this.isActive=function(){return s},this.isActiveSlidebar=function(i){if(!s)throw"Slidebars hasn't been initialized.";if(!i)throw"You must provide a Slidebar id.";if(!d(i))throw"Error retrieving Slidebar, there is no Slidebar with id '"+i+"'.";return a[i].active},this.getActiveSlidebar=function(){if(!s)throw"Slidebars hasn't been initialized.";var i,e=!1;for(i in a)if(d(i)&&a[i].active){e=a[i].id;break}return e},this.getSlidebars=function(){if(!s)throw"Slidebars hasn't been initialized.";var i,e=[];for(i in a)d(i)&&e.push(a[i].id);return e},this.getSlidebar=function(i){if(!s)throw"Slidebars hasn't been initialized.";if(!i)throw"You must pass a Slidebar id.";if(!d(i))throw"Error retrieving Slidebar, there is no Slidebar with id '"+i+"'.";return a[i]},this.events={};var l=this.events;$(window).on("resize",this.css.bind(this))};"undefined"!=typeof define&&define.amd&&define([],function(){return slidebars}),"undefined"!=typeof module&&module.exports&&(module.exports=slidebars);